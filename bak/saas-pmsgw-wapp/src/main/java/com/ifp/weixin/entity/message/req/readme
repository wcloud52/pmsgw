文本消息
 <xml>
 <ToUserName><![CDATA[toUser]]></ToUserName>
 <FromUserName><![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><![CDATA[text]]></MsgType>
 <Content><![CDATA[this is a test]]></Content>
 <MsgId>1234567890123456</MsgId>
 </xml>
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	text
Content	文本消息内容
MsgId	消息id，64位整型
{
    "MsgId": "6156049365135717388",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "CreateTime": "1433316936",
    "Content": "你好啊",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "text"
}
------------------------------------------------------------------------------------------------------------
图片消息
 <xml>
 <ToUserName><![CDATA[toUser]]></ToUserName>
 <FromUserName><![CDATA[fromUser]]></FromUserName>
 <CreateTime>1348831860</CreateTime>
 <MsgType><![CDATA[image]]></MsgType>
 <PicUrl><![CDATA[this is a url]]></PicUrl>
 <MediaId><![CDATA[media_id]]></MediaId>
 <MsgId>1234567890123456</MsgId>
 </xml>
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	image
PicUrl	图片链接
MediaId	图片消息媒体id，可以调用多媒体文件下载接口拉取数据。
MsgId	消息id，64位整型
{
    "MsgId": "6156050301438588108",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "CreateTime": "1433317154",
    "MediaId": "tkkiq_2oPOYg1ZaOAuZw5gM_CzFmYxLFEXSB5KfXKPWy00TBTXCmBNdwaUdNGiG_",
    "PicUrl": "http://mmbiz.qpic.cn/mmbiz/kB3PcH0U7W1vPvzoNQOkibE15JMVqQ43BHHGHyr0vkmPAKbWnaylP2JP1pCtQSfGdWyeHDCnlINf3Zu46sw0yuA/0",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "image"
}
------------------------------------------------------------------------------------------------------------
语音消息
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1357290913</CreateTime>
<MsgType><![CDATA[voice]]></MsgType>
<MediaId><![CDATA[media_id]]></MediaId>
<Format><![CDATA[Format]]></Format>
<MsgId>1234567890123456</MsgId>
</xml>
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	语音为voice
MediaId	语音消息媒体id，可以调用多媒体文件下载接口拉取数据。
Format	语音格式，如amr，speex等
MsgID	消息id，64位整型
{
    "MsgId": "6156047561249452726",
    "Format": "amr",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "Recognition": "",
    "CreateTime": "1433316516",
    "MediaId": "M08JHlDoHHaXRfBcJRqgrbRauMGTq6X_Kti7xYp5fqqp6G3MutUIGWplmVVlX1Zq",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "voice"
}
------------------------------------------------------------------------------------------------------------
视频消息
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1357290913</CreateTime>
<MsgType><![CDATA[video]]></MsgType>
<MediaId><![CDATA[media_id]]></MediaId>
<ThumbMediaId><![CDATA[thumb_media_id]]></ThumbMediaId>
<MsgId>1234567890123456</MsgId>
</xml>
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	视频为video
MediaId	视频消息媒体id，可以调用多媒体文件下载接口拉取数据。
ThumbMediaId	视频消息缩略图的媒体id，可以调用多媒体文件下载接口拉取数据。
MsgId	消息id，64位整型
------------------------------------------------------------------------------------------------------------
小视频消息
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1357290913</CreateTime>
<MsgType><![CDATA[shortvideo]]></MsgType>
<MediaId><![CDATA[media_id]]></MediaId>
<ThumbMediaId><![CDATA[thumb_media_id]]></ThumbMediaId>
<MsgId>1234567890123456</MsgId>
</xml>
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	小视频为shortvideo
MediaId	视频消息媒体id，可以调用多媒体文件下载接口拉取数据。
ThumbMediaId	视频消息缩略图的媒体id，可以调用多媒体文件下载接口拉取数据。
MsgId	消息id，64位整型
{
    "MsgId": "6156052075260081719",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "ThumbMediaId": "iVggaZXQvTLVgFl5Zk93z09PCAueGqg4OGBDZodyjz2P8oO-7vQuHWUW27zyBZ8i",
    "CreateTime": "1433317567",
    "MediaId": "lUqisuXhHvNyUGWnZun5G9LUXHUnH_85LkNTi9MCA_3z9ACBf13ntKDf3C9th-eT",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "shortvideo"
}
------------------------------------------------------------------------------------------------------------
地理位置消息
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1351776360</CreateTime>
<MsgType><![CDATA[location]]></MsgType>
<Location_X>23.134521</Location_X>
<Location_Y>113.358803</Location_Y>
<Scale>20</Scale>
<Label><![CDATA[位置信息]]></Label>
<MsgId>1234567890123456</MsgId>
</xml> 
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	location
Location_X	地理位置维度
Location_Y	地理位置经度
Scale	地图缩放大小
Label	地理位置信息
MsgId	消息id，64位整型
{
    "MsgId": "6156052646490732168",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "CreateTime": "1433317700",
    "Label": "海淀区北京东升凯莱酒店北(后屯路东400米)",
    "Scale": "16",
    "Location_X": "40.044155",
    "ToUserName": "gh_192accce6ffa",
    "Location_Y": "116.357742",
    "MsgType": "location"
}
------------------------------------------------------------------------------------------------------------
链接消息
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1351776360</CreateTime>
<MsgType><![CDATA[link]]></MsgType>
<Title><![CDATA[公众平台官网链接]]></Title>
<Description><![CDATA[公众平台官网链接]]></Description>
<Url><![CDATA[url]]></Url>
<MsgId>1234567890123456</MsgId>
</xml> 
参数	描述
ToUserName	接收方微信号
FromUserName	发送方微信号，若为普通用户，则是一个OpenID
CreateTime	消息创建时间
MsgType	消息类型，link
Title	消息标题
Description	消息描述
Url	消息链接
MsgId	消息id，64位整型
{
    "MsgId": "6156054493326669722",
    "Description": "http://changsha.51xiancheng.com/article/9627?from003dtimeline0026isappinstalled003d0",
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "Url": "http://changsha.51xiancheng.com/article/9627?from003dtimeline0026isappinstalled003d0",
    "CreateTime": "1433318130",
    "Title": "",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "link"
}

------------------------------------------------------------------------------------------------------------
关注/取消关注事件
用户在关注与取消关注公众号时，微信会把这个事件推送到开发者填写的URL。方便开发者给用户下发欢迎消息或者做帐号的解绑。
微信服务器在五秒内收不到响应会断掉连接，并且重新发起请求，总共重试三次
关于重试的消息排重，推荐使用FromUserName + CreateTime 排重。
假如服务器无法保证在五秒内处理并回复，可以直接回复空串，微信服务器不会对此作任何处理，并且不会发起重试。
推送XML数据包示例：
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[FromUser]]></FromUserName>
<CreateTime>123456789</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[subscribe]]></Event>
</xml>
参数说明：
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	消息类型，event
Event	事件类型，subscribe(订阅)、unsubscribe(取消订阅)
{
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "EventKey": "",
    "Event": "subscribe",
    "CreateTime": "1433319677",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "event"
}

{
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "EventKey": "",
    "Event": "unsubscribe",
    "CreateTime": "1433319491",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "event"
}
------------------------------------------------------------------------------------------------------------
自定义菜单事件
用户点击自定义菜单后，微信会把点击事件推送给开发者，请注意，点击菜单弹出子菜单，不会产生上报。
点击菜单拉取消息时的事件推送
推送XML数据包示例：
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[FromUser]]></FromUserName>
<CreateTime>123456789</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[CLICK]]></Event>
<EventKey><![CDATA[EVENTKEY]]></EventKey>
</xml>
参数说明：
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	消息类型，event
Event	事件类型，CLICK
EventKey	事件KEY值，与自定义菜单接口中KEY值对应
{
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "EventKey": "NEW04",
    "Event": "CLICK",
    "CreateTime": "1433319166",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "event"
}
------------------------------------------------------------------------------------------------------------
点击菜单跳转链接时的事件推送
推送XML数据包示例：
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[FromUser]]></FromUserName>
<CreateTime>123456789</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[VIEW]]></Event>
<EventKey><![CDATA[www.qq.com]]></EventKey>
</xml>
参数说明：
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	消息类型，event
Event	事件类型，VIEW
EventKey	事件KEY值，设置的跳转URL
{
    "FromUserName": "oJQtLs5hvi4Zr0iAchGtALoiI3IQ",
    "EventKey": "http://m.wsq.qq.com/263657800",
    "Event": "VIEW",
    "CreateTime": "1433319157",
    "ToUserName": "gh_192accce6ffa",
    "MsgType": "event"
}

------------------------------------------------------------------------------------------------------------
上报地理位置事件
用户同意上报地理位置后，每次进入公众号会话时，都会在进入时上报地理位置，或在进入会话后每5秒上报一次地理位置，公众号可以在公众平台网站中修改以上设置。上报地理位置时，微信会将上报地理位置事件推送到开发者填写的URL。
推送XML数据包示例：
<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>123456789</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[LOCATION]]></Event>
<Latitude>23.137466</Latitude>
<Longitude>113.352425</Longitude>
<Precision>119.385040</Precision>
</xml>
参数说明：
参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	消息类型，event
Event	事件类型，LOCATION
Latitude	地理位置纬度
Longitude	地理位置经度
Precision	地理位置精度
使用网页调试工具调试该接口
------------------------------------------------------------------------------------------------------------
接收语音识别结果
开通语音识别功能，用户每次发送语音给公众号时，微信会在推送的语音消息XML数据包中，增加一个Recongnition字段。

注：由于客户端缓存，开发者开启或者关闭语音识别功能，对新关注者立刻生效，对已关注用户需要24小时生效。开发者可以重新关注此帐号进行测试。

开启语音识别后的语音XML数据包如下：

<xml>
<ToUserName><![CDATA[toUser]]></ToUserName>
<FromUserName><![CDATA[fromUser]]></FromUserName>
<CreateTime>1357290913</CreateTime>
<MsgType><![CDATA[voice]]></MsgType>
<MediaId><![CDATA[media_id]]></MediaId>
<Format><![CDATA[Format]]></Format>
<Recognition><![CDATA[腾讯微信团队]]></Recognition>
<MsgId>1234567890123456</MsgId>
</xml>
参数说明：

参数	描述
ToUserName	开发者微信号
FromUserName	发送方帐号（一个OpenID）
CreateTime	消息创建时间 （整型）
MsgType	语音为voice
MediaID	语音消息媒体id，可以调用多媒体文件下载接口拉取该媒体
Format	语音格式：amr
Recognition	语音识别结果，UTF8编码
MsgID	消息id，64位整型


